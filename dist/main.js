(()=>{document.querySelector(".skip-to-content"),document.querySelector(".header__nav"),document.getElementById("main");const e=document.getElementById("overview"),t=document.querySelectorAll(".header__nav-ul--li"),n=(t[0],t[t.length-1],{}),a={},r=window.location.href;for(let e=0;e<t.length;e++)t[e].addEventListener("click",l),t[e].addEventListener("keydown",(e=>{"Enter"===e.key&&l(e)}));function l(e){let a;"click"===e.type?a=e.target:"keydown"===e.type&&(a=e.target.firstElementChild);let r=a.getAttribute("data-name");if("inactive"===a.getAttribute("data-state")){t.forEach((e=>{e.setAttribute("data-state","inactive"),e.setAttribute("aria-current","false")})),a.setAttribute("data-state","active"),a.setAttribute("aria-current","true");for(let e of Object.keys(n)){let t=document.getElementById(e);n[e].includes(r)?t.style.display="flex":t.style.display="none"}}else{a.setAttribute("data-state","inactive"),a.removeAttribute("aria-current");for(let e of Object.keys(n))document.getElementById(e).style.display="flex"}}function o(){var e,t,n;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(fetch("./data.json"));case 3:return e=a.sent,a.next=6,regeneratorRuntime.awrap(e.json());case 6:return t=a.sent,n=t.photographers,console.log(n),a.abrupt("return",n);case 12:a.prev=12,a.t0=a.catch(0),console.error(a.t0);case 15:case"end":return a.stop()}}),null,null,[[0,12]],Promise)}function s(e){let t=document.createElement("ul");t.className="photographer__tags",t.addEventListener("click",l),t.addEventListener("keydown",(e=>{"Enter"===e.key&&l(e)}));for(let n=0;n<e.length;n++){let a=document.createElement("li");"sport"===e[n]?a.textContent="#sports":a.textContent=`#${e[n]}`,a.className="photographer__tag",a.setAttribute("data-name",e[n]),a.setAttribute("data-state","inactive"),a.setAttribute("role","link"),a.setAttribute("tabindex","0");let r=document.createElement("span");r.textContent="Tag",r.className="sr-only",a.appendChild(r),t.appendChild(a)}return t}function c(t){for(let r=0;r<t.length;r++){let l=t[r];l.tags.includes("sport")&&l.tags.splice(l.tags.indexOf("sport"),1,"sports"),n[`${l.id}`]=l.tags,a[`${l.id}`]="display";let o=document.createElement("article");o.className="photographer",o.id=`${l.id}`;let c=document.createElement("a");c.className="photographer__link",c.setAttribute("aria-label",l.name),c.href=`./pages/${l.name.replace(/ /g,"_")}_${l.id}.html`;let i=document.createElement("img");c.appendChild(i),i.src=`./img/photographers/ID_Photos/${l.portrait}`,i.setAttribute("alt",""),i.className="photographer__img";let d=document.createElement("h2");d.textContent=l.name,d.className="photographer__name",c.appendChild(d);let u=document.createElement("p");u.textContent=`${l.city}, ${l.country}`,u.className="photographer__location";let p=document.createElement("p");p.textContent=l.tagline,p.className="photographer__tagline";let m=document.createElement("p");m.textContent=`$${l.price}/day`,m.className="photographer__price";let h=s(l.tags);e.appendChild(o),o.appendChild(c),o.appendChild(u),o.appendChild(p),o.appendChild(m),o.appendChild(h)}if(r.includes("?")){const e=r.substring(r.indexOf("?")+1);e&&(document.querySelector(`[data-name=${e}]`).click(),document.querySelector(`[data-name=${e}]`).parentNode.focus())}}regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(o());case 2:c(e.sent);case 4:case"end":return e.stop()}}),null,null,null,Promise)})();